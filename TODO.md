# TODO - Medici Theme & Marketing Roadmap

## üó∫Ô∏è –î–û–†–û–ñ–ù–Ø –ö–ê–†–¢–ê –ü–†–û–ï–ö–¢–£

### –ï–∫–æ—Å–∏—Å—Ç–µ–º–∞ Medici Agency

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ          üåê –°–ê–ô–¢                    ‚îÇ
                    ‚îÇ      medici.agency                  ‚îÇ
                    ‚îÇ   (–í—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –æ—Ñ—ñ—Å / Hub)          ‚îÇ
                    ‚îÇ                                     ‚îÇ
                    ‚îÇ  ‚Ä¢ –ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ —Ç–∞ –∫–µ–π—Å–∏              ‚îÇ
                    ‚îÇ  ‚Ä¢ –§–æ—Ä–º–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó              ‚îÇ
                    ‚îÇ  ‚Ä¢ –ë–ª–æ–≥ –∑ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–æ—é              ‚îÇ
                    ‚îÇ  ‚Ä¢ Lead CPT + –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó           ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ                         ‚îÇ                         ‚îÇ
          ‚ñº                         ‚ñº                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   INSTAGRAM     ‚îÇ     ‚îÇ    FACEBOOK     ‚îÇ     ‚îÇ    LINKEDIN     ‚îÇ
‚îÇ                 ‚îÇ     ‚îÇ                 ‚îÇ     ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ –í—ñ–∑—É–∞–ª—å–Ω–∏–π    ‚îÇ     ‚îÇ ‚Ä¢ –†–µ–∫–ª–∞–º–∞       ‚îÇ     ‚îÇ ‚Ä¢ B2B –∫–æ–Ω—Ç–µ–Ω—Ç   ‚îÇ
‚îÇ   –∫–æ–Ω—Ç–µ–Ω—Ç       ‚îÇ     ‚îÇ ‚Ä¢ –¢–∞—Ä–≥–µ—Ç–∏–Ω–≥     ‚îÇ     ‚îÇ ‚Ä¢ –ù–µ—Ç–≤–æ—Ä–∫—ñ–Ω–≥    ‚îÇ
‚îÇ ‚Ä¢ Stories/Reels ‚îÇ     ‚îÇ ‚Ä¢ Messenger     ‚îÇ     ‚îÇ ‚Ä¢ –ï–∫—Å–ø–µ—Ä—Ç–∏–∑–∞    ‚îÇ
‚îÇ ‚Ä¢ DM ‚Üí –°–∞–π—Ç     ‚îÇ     ‚îÇ ‚Ä¢ DM ‚Üí –°–∞–π—Ç     ‚îÇ     ‚îÇ ‚Ä¢ DM ‚Üí –°–∞–π—Ç     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                         ‚îÇ                         ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ            ‚ö° ZAPIER                 ‚îÇ
                    ‚îÇ        (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è)              ‚îÇ
                    ‚îÇ                                     ‚îÇ
                    ‚îÇ  ‚Ä¢ –ù–æ–≤–∏–π –ª—ñ–¥ ‚Üí Email + Telegram     ‚îÇ
                    ‚îÇ  ‚Ä¢ –§–æ—Ä–º–∞ ‚Üí Google Sheets            ‚îÇ
                    ‚îÇ  ‚Ä¢ –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è ‚Üí –°–æ—Ü–º–µ—Ä–µ–∂—ñ           ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ                         ‚îÇ                         ‚îÇ
          ‚ñº                         ‚ñº                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    TELEGRAM     ‚îÇ     ‚îÇ     VIBER       ‚îÇ     ‚îÇ  GOOGLE SHEETS  ‚îÇ
‚îÇ                 ‚îÇ     ‚îÇ                 ‚îÇ     ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ –ö–∞–Ω–∞–ª/–î–∑–µ—Ä–∫–∞–ª–æ‚îÇ     ‚îÇ ‚Ä¢ –ß–∞—Ç –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ ‚îÇ     ‚îÇ ‚Ä¢ CRM (–ª—ñ–¥–∏)    ‚îÇ
‚îÇ ‚Ä¢ –ë–æ—Ç –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ ‚îÇ     ‚îÇ ‚Ä¢ –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è    ‚îÇ     ‚îÇ ‚Ä¢ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞     ‚îÇ
‚îÇ ‚Ä¢ –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è    ‚îÇ     ‚îÇ ‚Ä¢ Quick replies ‚îÇ     ‚îÇ ‚Ä¢ –ó–≤—ñ—Ç–∏         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –§–ê–ó–ò –†–û–ó–í–ò–¢–ö–£

### –§–∞–∑–∞ 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç (‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ)

- [x] PHPStan + Composer DevOps
- [x] GitHub Actions CI/CD
- [x] Pre-commit hooks
- [x] Database Optimization (indexes)
- [x] Cache Manager (Transients)
- [x] Lead CPT + Email/Telegram —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- [x] Blog —Å–∏—Å—Ç–µ–º–∞ (CPT, meta fields, TOC)
- [x] **Code Quality Tools** ‚Äî Prettier + ESLint + StyleLint ‚úÖ 2025-12-17
  - Prettier 3.4.2 (–∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è CSS/JS/PHP/JSON/MD)
  - ESLint 8.57.1 (@wordpress/eslint-plugin)
  - StyleLint 16.10.0 (BEM validation, property order)
  - VS Code integration (format on save)
  - GitHub Actions CI/CD (3 –Ω–æ–≤—ñ jobs)
  - Pre-commit hook integration (6 –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫)
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: CODE-QUALITY.md
- [x] **CLAUDE.md Critical Update** ‚Äî @prettier/plugin-php –ø–æ–º–∏–ª–∫–∞ ‚úÖ 2025-12-19
  - –î–æ–¥–∞–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω—É –ø–æ–º–∏–ª–∫—É #7 (Missing @prettier/plugin-php)
  - –ü–æ—Å–∏–ª–µ–Ω–æ "MANDATORY PRE-COMMIT WORKFLOW" (–∫—Ä–æ–∫ #0)
  - –û–Ω–æ–≤–ª–µ–Ω–æ "–ü–ï–†–ï–î –ù–ê–ü–ò–°–ê–ù–ù–Ø–ú –ö–û–î–£" (+2 –ø—É–Ω–∫—Ç–∏)
  - –†–æ–∑—à–∏—Ä–µ–Ω–æ —Å–µ–∫—Ü—ñ—é "–ó–ê–ë–û–†–û–ù–ï–ù–û" (+3 –∑–∞–±–æ—Ä–æ–Ω–∏)
  - Bash —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ node_modules/@prettier/
  - –ó–æ–ª–æ—Ç–µ –ø—Ä–∞–≤–∏–ª–æ: npm run format:check –ø–µ—Ä–µ–¥ –∫–æ–º—ñ—Ç–æ–º
  - –ú–µ—Ç–∞: —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫ –∑ npm –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏

### –§–∞–∑–∞ 2: –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ —Ç—Ä–µ–∫—ñ–Ω–≥ (‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ)

- [ ] Microsoft Clarity —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è (heatmaps)
- [x] GA4 Events (scroll, time, CTA clicks) ‚úÖ 2025-12-17
- [x] UTM —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –¥–ª—è —Å–æ—Ü–º–µ—Ä–µ–∂ ‚úÖ 2025-12-17
- [x] Lead Scoring —Å–∏—Å—Ç–µ–º–∞ ‚úÖ 2025-12-17
- [x] WordPress Global Styles (theme.json) ‚úÖ 2025-12-17
- [x] Dashboard Lead Scoring widget ‚úÖ 2025-12-17

### –§–∞–∑–∞ 3: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è (üìã –ü–ª–∞–Ω—É—î—Ç—å—Å—è)

- [ ] Zapier —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è (webhooks)
- [ ] Telegram –±–æ—Ç
- [ ] Viber –∫–∞–Ω–∞–ª
- [ ] –ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ —É —Å–æ—Ü–º–µ—Ä–µ–∂—ñ

### –§–∞–∑–∞ 4: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è UX (‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ)

- [x] Fade-in –∞–Ω—ñ–º–∞—Ü—ñ—ó (scroll-triggered) ‚Äî —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ scripts.js + layout.css
- [x] Exit-intent popup ‚Äî HYBRID (bioEp + GenerateBlocks Overlay Panel + OOP Architecture)
  - GenerateBlocks Overlay Panel (Scale In –∞–Ω—ñ–º–∞—Ü—ñ—è, backdrop blur)
  - bioEp library (exit-intent detection + 30-day cookies)
  - Events API form handler (Lead CPT integration)
  - OOP Architecture (WordPress Plugin Boilerplate pattern)
  - Commits: 58ff25b (GenerateBlocks), c647c1e (Hybrid), 8355861 (OOP)
- [ ] A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ–æ—Ä–º

### –§–∞–∑–∞ 5: OOP Refactoring v2.0.0 (‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ 2025-12-18)

- [x] **Blog Module** (`inc/blog/`) ‚Äî Repository + Service Pattern
  - [x] `BlogPostRepository.php` ‚Äî Data access abstraction
  - [x] `ReadingTimeService.php` ‚Äî Reading time calculation
  - [x] `PostViewsService.php` ‚Äî Atomic view counting with sessions
  - [x] `bootstrap.php` ‚Äî Module initialization
- [x] **Lead Module** (`inc/lead/`) ‚Äî Adapter Pattern
  - [x] `IntegrationInterface.php` ‚Äî Contract for all integrations
  - [x] `AbstractIntegration.php` ‚Äî Base class with error handling
  - [x] `EmailAdapter.php` ‚Äî HTML email notifications
  - [x] `TelegramAdapter.php` ‚Äî Telegram Bot API
  - [x] `GoogleSheetsAdapter.php` ‚Äî Apps Script integration
  - [x] `IntegrationManager.php` ‚Äî Orchestrates adapters
- [x] **Events Module** (`inc/events/`) ‚Äî Event Dispatcher + Observer
  - [x] `EventInterface.php` + `AbstractEvent.php` ‚Äî Event contracts
  - [x] `EventDispatcher.php` ‚Äî Central event bus (Singleton)
  - [x] `ConsultationRequestEvent.php`, `NewsletterSubscribeEvent.php` ‚Äî Concrete events
  - [x] 4 Observers: Logging, LeadCreation, Integration, Webhook
- [x] **PHPStan Compliance**
  - [x] EventInterface: getEventId/setEventId methods
  - [x] All modules pass PHPStan Level 5
- [x] **Commits:** 8e5180d, a83361d, 4e0a5ae
- [x] **Statistics:** +4211 —Ä—è–¥–∫—ñ–≤, 23 —Ñ–∞–π–ª–∏, 3 –º–æ–¥—É–ª—å–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó

### –§–∞–∑–∞ 5.1: Code Audit Fixes v2.0.1 (‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ 2025-12-18)

- [x] **Duplicate Handler Fixes**
  - [x] –í–∏–º–∫–Ω–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è AJAX handlers –≤ `events/bootstrap.php`
  - [x] –í–∏–º–∫–Ω–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è views tracking –≤ `blog-meta-fields.php`
- [x] **Version Synchronization**
  - [x] `style.css` version: 1.4.0 ‚Üí 2.0.0
- [x] **Performance Optimization**
  - [x] –î–æ–¥–∞–Ω–æ `no_found_rows => true` –¥–æ 6 WP_Query
- [x] **Security Fixes**
  - [x] Telegram Markdown escaping (UTM values)
  - [x] Input length validation (name, email, phone, message)
- [x] **Verification (no action needed)**
  - [x] SQL injection in rest-api.php ‚Äî –≤–∂–µ sanitized via absint()

### –§–∞–∑–∞ 6: Legacy ‚Üí OOP Migration (‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ 2025-12-19)

- [x] **OOP Observers —Ç–µ–ø–µ—Ä –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è**
  - Legacy `class-events.php` dispatch'–∏—Ç—å –ø–æ–¥—ñ—ó —á–µ—Ä–µ–∑ `EventDispatcher`
  - –ú–µ—Ç–æ–¥ `dispatch_oop_event()` —Å—Ç–≤–æ—Ä—é—î OOP –ø–æ–¥—ñ—ó
  - Lead ID –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥—É–±–ª—é–≤–∞–Ω–Ω—è
- [x] **–î—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É —É—Å—É–Ω–µ–Ω–æ**
  - `lead-integrations.php` ‚Üí deprecated wrapper –¥–ª—è `IntegrationManager`
  - `LeadCreationObserver` –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –ª—ñ–¥ –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π
  - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ OOP `IntegrationObserver`
- [x] **Legacy —Ñ–∞–π–ª–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –¥–ª—è backwards compatibility**
  - `inc/lead-integrations.php` ‚Äî deprecated, –¥–µ–ª–µ–≥—É—î –Ω–∞ OOP
  - `inc/blog-cache.php` ‚Äî –∑–∞–ª–∏—à–µ–Ω–æ (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∫–µ—à—É–≤–∞–Ω–Ω—è)

---

## üî¥ –í–ò–°–û–ö–ò–ô –ü–†–Ü–û–†–ò–¢–ï–¢

### Lead Tracking & Analytics

- [ ] **Microsoft Clarity** ‚Äî –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ heatmaps —Ç–∞ session recording
  - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è: https://clarity.microsoft.com
  - –î–æ–¥–∞—Ç–∏ tracking code –≤ `<head>`
  - –ß–∞—Å: 15 —Ö–≤
- [x] **GA4 Events** ‚Äî –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ ‚úÖ 2025-12-17
  - ‚úÖ Scroll depth (25%, 50%, 75%, 100%) ‚Äî `js/analytics.js`
  - ‚úÖ Time on page (30s, 60s, 2min, 5min) ‚Äî `js/analytics.js`
  - ‚úÖ CTA clicks (data-track-cta –∞—Ç—Ä–∏–±—É—Ç) ‚Äî `js/analytics.js`
  - ‚úÖ Form interactions ‚Äî `js/analytics.js`
  - ‚úÖ Admin settings ‚Äî `inc/analytics.php`
- [x] **UTM Builder** ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ —à–∞–±–ª–æ–Ω–∏ –¥–ª—è –≤—Å—ñ—Ö –∫–∞–Ω–∞–ª—ñ–≤ ‚úÖ 2025-12-17
  - ‚úÖ Instagram, Facebook, LinkedIn presets ‚Äî `inc/analytics.php`
  - ‚úÖ UTM Builder –≤ admin ‚Äî Settings ‚Üí Medici ‚Üí UTM Builder

### Lead Management

- [x] **Lead Scoring** ‚Äî –ø—Ä—ñ–æ—Ä–∏—Ç–µ–∑–∞—Ü—ñ—è –ª—ñ–¥—ñ–≤ ‚úÖ 2025-12-17
  - ‚úÖ –ó–∞ –¥–∂–µ—Ä–µ–ª–æ–º (LinkedIn > Google > Instagram > Direct) ‚Äî `inc/lead-scoring.php`
  - ‚úÖ –ó–∞ –ø–æ—Å–ª—É–≥–æ—é (Branding > Advertising > SMM) ‚Äî `inc/lead-scoring.php`
  - ‚úÖ –ó–∞ engagement (visited services, read blog, time on site)
  - ‚úÖ Dashboard widget ‚Äî `inc/dashboard-analytics.php`
  - ‚úÖ Hot/Warm/Cold –≤–∏–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è (70+/40-69/0-39)
- [ ] **Lead Status Automation** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å—Ç–∞—Ç—É—Å–∏
  - –ù–æ–≤–∏–π ‚Üí 24 –≥–æ–¥ –±–µ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ ‚Üí –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
  - Contacted ‚Üí 7 –¥–Ω—ñ–≤ ‚Üí Follow-up
  - –ß–∞—Å: 1 –≥–æ–¥

---

## üü° –°–ï–†–ï–î–ù–Ü–ô –ü–†–Ü–û–†–ò–¢–ï–¢

### Zapier Integration

- [ ] **Webhook endpoint** –¥–ª—è Zapier
  - POST `/wp-json/medici/v1/zapier/lead`
  - –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ secret key
  - –§–∞–π–ª: `inc/zapier-integration.php`
  - –ß–∞—Å: 2 –≥–æ–¥
- [ ] **Zaps –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó:**
  - –ù–æ–≤–∏–π –ª—ñ–¥ ‚Üí Slack/Discord notification
  - –ù–æ–≤–∏–π –ª—ñ–¥ ‚Üí Trello card
  - –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –±–ª–æ–≥—É ‚Üí Twitter/LinkedIn post
  - –ß–∞—Å: 1 –≥–æ–¥ –∫–æ–∂–µ–Ω

### Telegram Integration

- [ ] **Telegram –∫–∞–Ω–∞–ª** ‚Äî –¥–∑–µ—Ä–∫–∞–ª–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É —Å–∞–π—Ç—É
  - –ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ –Ω–æ–≤–∏—Ö —Å—Ç–∞—Ç–µ–π –±–ª–æ–≥—É
  - –ê–Ω–æ–Ω—Å–∏ –ø–æ—Å–ª—É–≥
  - –ß–∞—Å: 1 –≥–æ–¥ setup
- [ ] **Telegram –±–æ—Ç** ‚Äî –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∞ –ª—ñ–¥–∏
  - /start ‚Äî –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ –º–µ–Ω—é
  - /services ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª—É–≥
  - /consultation ‚Äî —Ñ–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏
  - /contact ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç–∏
  - –§–∞–π–ª: `inc/telegram-bot.php` (webhook)
  - –ß–∞—Å: 4 –≥–æ–¥

### Viber Integration

- [ ] **Viber Business** ‚Äî –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –∫–∞–Ω–∞–ª
  - –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Viber API
  - –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—ñ –ª—ñ–¥–∏
  - Quick replies –¥–ª—è FAQ
  - –ß–∞—Å: 2 –≥–æ–¥

### UI/UX Improvements

- [ ] **Fade-in –∞–Ω—ñ–º–∞—Ü—ñ—ó** ‚Äî scroll-triggered

  ```css
  .fade-in {
  	opacity: 0;
  	transform: translateY(20px);
  }
  .fade-in.visible {
  	opacity: 1;
  	transform: translateY(0);
  }
  ```

  - –§–∞–π–ª: `css/components/animations.css`
  - –ß–∞—Å: 1 –≥–æ–¥

- [x] **BEM naming** ‚Äî –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å —É CSS ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ 2025-12-15
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ forms.css, navigation.css, cards.css, layout.css
  - Backwards compatibility —Å–µ–∫—Ü—ñ—ó –¥–ª—è legacy class names
- [x] **JS hooks** ‚Äî `js-*` –∫–ª–∞—Å–∏ –¥–ª—è JavaScript ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ 2025-12-15
  - scripts.js, forms-consultation.js, forms-newsletter.js
  - –ü—Ä–∏–∫–ª–∞–¥: `<button class="btn js-open-modal">`

### Design System Integration

- [x] **WordPress Global Styles (theme.json)** ‚Äî –ø–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ GeneratePress + GenerateBlocks ‚úÖ 2025-12-17

  **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:**
  - ‚úÖ `theme.json` (–≤–µ—Ä—Å—ñ—è 3, WordPress 6.5+) ‚Äî **–°–¢–í–û–†–ï–ù–û**
  - ‚úÖ 14 –∫–æ–ª—å–æ—Ä—ñ–≤ palette (primary, hot-lead, warm-lead, cold-lead, etc.)
  - ‚úÖ 8 fluid font sizes (Utopia scale)
  - ‚úÖ 9 spacing sizes (3xs ‚Üí 3xl)
  - ‚úÖ 6 shadow presets (sm, md, lg, xl, card, card-hover)
  - ‚úÖ Lead Scoring thresholds —É custom settings (hot: 70, warm: 40, cold: 0)
  - ‚úÖ Typography settings (Montserrat primary, System fallback)
  - ‚úÖ Border radius settings (sm, md, lg, xl, full)
  - ‚úÖ Transition settings (base, fast, slow)

  **–§–∞–π–ª–∏:**
  - `theme.json` ‚Äî WordPress Global Styles (460 —Ä—è–¥–∫—ñ–≤)

  **–ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):**
  - [ ] **GenerateBlocks Pro —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**
    - Global Styles –¥–ª—è Container, Headline, Button, Grid blocks
    - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è theme.json color presets —É GB editor
  - [ ] **GeneratePress Premium —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è**
    - GP Customizer colors ‚Üí theme.json (–¥–≤–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è)
  - [ ] **Gutenberg Editor Styles**
    - Editor styles = Frontend styles (100% –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å)

---

## üü¢ –ù–ò–ó–¨–ö–ò–ô –ü–†–Ü–û–†–ò–¢–ï–¢

### Content & Social Media

- [ ] **Instagram** ‚Äî –≤—ñ–∑—É–∞–ª—å–Ω–∞ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å
  - Link in bio –∑ UTM
  - Stories –∑ CTA ‚Üí –°–∞–π—Ç
  - Reels –∑ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–æ—é
- [ ] **Facebook** ‚Äî —Ä–µ–∫–ª–∞–º–∞ —Ç–∞ community
  - Business Page setup
  - Facebook Pixel —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
  - Messenger —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- [ ] **LinkedIn** ‚Äî B2B –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
  - Company Page
  - LinkedIn Insight Tag
  - –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –¥–ª—è –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∏

### Advanced Features

- [x] **Exit-intent popup** ‚Äî –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –ª—ñ–¥—ñ–≤ —â–æ –π–¥—É—Ç—å ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
  - JavaScript: `js/exit-intent.js`
  - CSS: `css/components/forms.css` (exit-popup —Å–µ–∫—Ü—ñ—è)
  - –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—Ä–∏ —Ä—É—Å—ñ –º–∏—à—ñ –¥–æ –≤–µ—Ä—Ö–Ω—å–æ—ó —á–∞—Å—Ç–∏–Ω–∏ –µ–∫—Ä–∞–Ω—É
  - –û–¥–∏–Ω —Ä–∞–∑ –∑–∞ —Å–µ—Å—ñ—é (localStorage)
  - –¢—ñ–ª—å–∫–∏ desktop (> 1024px)
  - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Events API
- [ ] **A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ–æ—Ä–º** ‚Äî –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó
  - –†—ñ–∑–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏
  - –†—ñ–∑–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–ª—ñ–≤
  - –ß–∞—Å: 3 –≥–æ–¥
- [ ] **Newsletter subscription** ‚Äî email –º–∞—Ä–∫–µ—Ç–∏–Ω–≥
  - MailChimp/Brevo —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
  - Double opt-in
  - –ß–∞—Å: 2 –≥–æ–¥

### Blog Enhancements

- [ ] –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è –¥–ª—è –∞—Ä—Ö—ñ–≤—ñ–≤ (AJAX load more)
- [ ] Social sharing buttons
- [ ] Estimated reading time progress bar

### Accessibility

- [ ] ARIA labels audit
- [ ] Keyboard navigation
- [ ] Color contrast (WCAG AA)
- [ ] Screen reader testing

---

## ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

### v2.0.0 - PHP OOP Refactoring (2025-12-18)

- [x] **Lead Scoring Module** (Strategy Pattern)
  - ScoringStrategyInterface, ScoringConfig, ScoringService, ScoringAdmin
  - 4 —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó: SourceStrategy, MediumStrategy, ServiceStrategy, BonusStrategy
  - Helper: `medici_scoring()->calculate($data)`
- [x] **Lead Validation Module** (Chain of Responsibility)
  - ValidatorInterface, ValidationResult (Value Object), ValidationService
  - 7 –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä—ñ–≤: Email, Phone, Name, Message, Utm, Spam, Service
  - Helper: `medici_validation()->validate($data)`
- [x] **Schema Module** (Builder Pattern)
  - SchemaBuilderInterface, AbstractSchemaBuilder, SchemaConfig, SchemaRenderer
  - 4 builders: Organization, Faq, HowTo, Video
  - Helper: `medici_schema()->render()`, `medici_schema_build_*($content)`
- [x] PHPStan –ø–æ–º–∏–ª–∫–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ (getInstance, setContent, function renaming)

### v1.8.0 - GA4 Analytics + Lead Scoring Dashboard + theme.json (2025-12-17)

- [x] GA4 Events tracking (scroll depth, time on page, CTA clicks, form interactions)
- [x] UTM Builder –∑ presets –¥–ª—è —Å–æ—Ü–º–µ—Ä–µ–∂ (Instagram, Facebook, LinkedIn)
- [x] Lead Scoring —Å–∏—Å—Ç–µ–º–∞ (hot 70+, warm 40-69, cold 0-39)
- [x] Dashboard Lead Scoring widget –∑ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—î—é
- [x] WordPress Global Styles (theme.json v3)
- [x] 14 –∫–æ–ª—å–æ—Ä—ñ–≤ palette + Utopia typography + spacing scale
- [x] Lead Scoring thresholds —É theme.json custom settings

### v1.7.0 - Exit-Intent Popup Fix (2025-12-16)

- [x] Exit-intent popup - 7 –∫–æ–º—ñ—Ç—ñ–≤ troubleshooting
- [x] Public Form Handler (–ë–ï–ó WordPress nonce)
- [x] SMTP Integration (mail.adm.tools)
- [x] Lead CPT integration –∑ Events API
- [x] Security: IP rate limiting + honeypot + User-Agent + Referer
- [x] –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ 7 –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –±–∞–≥—ñ–≤ (wp_is_mobile, defer, trackEvent, 403, —Ç–æ—â–æ)

### v1.6.1 - BEM + JS Hooks (2025-12-15)

- [x] BEM CSS —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (forms, navigation, cards, layout)
- [x] JavaScript js-\* hooks –¥–ª—è BEM separation
- [x] Backwards compatibility –¥–ª—è legacy class names
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `docs/FRONTEND-CONVENTIONS.md`

### v1.6.0 - Modern Solutions (2025-12-15)

- [x] PHPStan + Composer DevOps
- [x] GitHub Actions CI/CD
- [x] Pre-commit hooks
- [x] Database Optimization (`inc/database-optimization.php`)
- [x] Cache Manager (`inc/class-cache-manager.php`)
- [x] –í–∏–¥–∞–ª–µ–Ω–æ overkill: Webpack, PostCSS, PHPUnit, Web Workers

### v1.5.0 - Dashboard Analytics (2025-12-14)

- [x] Dashboard widgets (–ª—ñ–¥–∏, –±–ª–æ–≥, SEO)
- [x] REST API endpoints
- [x] Lead bulk actions + CSV export
- [x] SEO Audit tool

### v1.4.0 - Lead Management (2025-12-13)

- [x] Lead CPT (`medici_lead`)
- [x] Email notifications
- [x] Telegram notifications
- [x] Google Sheets integration
- [x] Admin settings page

### v1.3.5 - Blog & Schema (2025-12-09)

- [x] Blog CPT + TOC
- [x] Schema.org (Organization, FAQ, HowTo, Video)
- [x] XML Sitemap optimization

---

## üìä UTM –°–¢–†–ê–¢–ï–ì–Ü–Ø

```
INSTAGRAM:
  Bio link:     ?utm_source=instagram&utm_medium=bio
  Stories:      ?utm_source=instagram&utm_medium=story&utm_campaign={name}
  Reels:        ?utm_source=instagram&utm_medium=reels
  DM:           ?utm_source=instagram&utm_medium=dm

FACEBOOK:
  Posts:        ?utm_source=facebook&utm_medium=post
  Ads:          ?utm_source=facebook&utm_medium=cpc&utm_campaign={name}
  Messenger:    ?utm_source=facebook&utm_medium=messenger

LINKEDIN:
  Profile:      ?utm_source=linkedin&utm_medium=profile
  Posts:        ?utm_source=linkedin&utm_medium=post
  DM:           ?utm_source=linkedin&utm_medium=dm
  Ads:          ?utm_source=linkedin&utm_medium=cpc&utm_campaign={name}

TELEGRAM:
  Channel:      ?utm_source=telegram&utm_medium=channel
  Bot:          ?utm_source=telegram&utm_medium=bot
  DM:           ?utm_source=telegram&utm_medium=dm

EMAIL:
  Newsletter:   ?utm_source=email&utm_medium=newsletter&utm_campaign={name}
  Transactional:?utm_source=email&utm_medium=transactional
```

---

## üîß –ö–û–ú–ê–ù–î–ò –†–û–ó–†–û–ë–ö–ò

```bash
# PHP –∞–Ω–∞–ª—ñ–∑
composer phpstan          # –°—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
composer phpcs            # WordPress Coding Standards
composer lint             # –í—Å–µ —Ä–∞–∑–æ–º

# Git hooks
./scripts/install-hooks.sh  # –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ pre-commit
```

---

## üìù –ü–†–ò–ú–Ü–¢–ö–ò

- –í—Å—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å —á–µ—Ä–µ–∑ PHPStan –ø–µ—Ä–µ–¥ –∫–æ–º—ñ—Ç–æ–º
- CSS —Ñ–∞–π–ª–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å—É –¥—É–∂–æ–∫
- UTM –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –¥–ª—è –≤—Å—ñ—Ö –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –ø–æ—Å–∏–ª–∞–Ω—å
- Lead tracking: –∫–æ–∂–µ–Ω –ª—ñ–¥ –º–∞—î –º–∞—Ç–∏ –¥–∂–µ—Ä–µ–ª–æ (utm_source)

---

**Last Updated:** 2025-12-19
**Theme Version:** 2.1.0
**Roadmap Version:** 1.4
