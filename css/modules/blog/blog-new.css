/**
 * Blog Module CSS - Pixel Perfect
 *
 * 100% pixel-perfect імплементація дизайну блогу з HTML прототипу.
 * Підтримка світлої/темної теми, responsive дизайн.
 *
 * @package    Medici
 * @subpackage Blog
 * @since      1.0.15
 * @version    1.0.1
 */

/* =====================================================
   CSS VARIABLES (Light & Dark Theme)
   ===================================================== */

:root {
	/* Light theme colors (default - matches site homepage) */
	--blog-bg-primary: var(--color-white);
	--blog-bg-secondary: #f8fafc;
	--blog-bg-card: var(
		--color-gray-50
	); /* Змінено з var(--color-white) на var(--color-gray-50) (gray-50) */

	--blog-text-primary: var(--slate-900);
	--blog-text-secondary: var(--slate-600);
	--blog-text-muted: var(--slate-500);
	--blog-accent-blue: var(--blue-600);
	--blog-accent-cyan: #0891b2;
	--blog-border-color: var(--slate-200);
	--blog-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 5%);
	--blog-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 10%);
	--blog-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 10%);
}

[data-theme="dark"] {
	/* Dark theme colors - matches site homepage (var(--slate-900)) */
	--blog-bg-primary: var(--slate-900);
	--blog-bg-secondary: var(--slate-800);
	--blog-bg-card: var(--slate-800);
	--blog-text-primary: var(--slate-100);
	--blog-text-secondary: var(--slate-400);
	--blog-text-muted: var(--slate-500);
	--blog-accent-blue: var(--blue-500);
	--blog-accent-cyan: #06b6d4;
	--blog-border-color: rgb(255 255 255 / 10%);
	--blog-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 25%);
	--blog-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 30%);
	--blog-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 40%);
}

/* =====================================================
   BASE STYLES
   ===================================================== */

/* Force full-width for blog archive (no GeneratePress sidebar) */
.post-type-archive-medici_blog .site-content,
.tax-blog_category .site-content {
	width: 100% !important;
	padding: 0 !important;
	max-width: 100% !important;
}

.post-type-archive-medici_blog #primary,
.tax-blog_category #primary {
	width: 100% !important;
	max-width: 100% !important;
}

/* Hide sidebar on blog archive */
.post-type-archive-medici_blog #secondary,
.tax-blog_category #secondary {
	display: none !important;
}

.medici-blog-page {
	background: var(--blog-bg-primary);
	color: var(--blog-text-primary);
	transition:
		background-color 0.3s ease,
		color 0.3s ease;
	min-height: 100vh;
}

/* =====================================================
   CONTAINER
   ===================================================== */

.medici-blog-container {
	/* max-width: 1280px; */
	margin: 0 auto;
	padding: 0 24px;
}

/* =====================================================
   HERO SECTION
   ===================================================== */

.medici-blog-hero {
	position: relative;
	padding: 40px 0 30px; /* Зменшено ще більше для максимальної компактності */
	background: var(--blog-bg-primary); /* Однорідний колір як на головній */
}

.medici-blog-hero-grid {
	display: grid;
	align-items: center;
	gap: 60px;
	grid-template-columns: 1.2fr 1fr;
}

.medici-blog-hero-title {
	display: inline-block;
	background: linear-gradient(
		90deg,
		var(--blog-text-primary) 0%,
		var(--blog-text-primary) 30%,
		var(--blog-accent-cyan) 100%
	);
	font-size: 56px;
	font-weight: var(--font-extrabold);
	line-height: 1.1;
	margin-bottom: 24px;
	letter-spacing: -1px;
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.medici-blog-hero-description {
	color: var(--blog-text-secondary);
	font-size: 18px;
	margin-bottom: 32px;
	line-height: 1.7;
}

.medici-blog-hero-buttons {
	display: flex;
	flex-wrap: wrap;
	gap: 16px;
}

/* Buttons */
.medici-blog-btn-primary {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 14px 28px;
	background: var(--blog-accent-blue);
	border: none;
	border-radius: 10px;
	color: white;
	transition: all 0.2s ease;
	text-decoration: none;
	font-weight: var(--font-semibold);
	font-size: 16px;
	cursor: pointer;
}

.medici-blog-btn-primary:hover {
	background: var(--blog-accent-cyan);
	transform: translateY(-2px);
	box-shadow: 0 8px 20px rgb(59 130 246 / 30%);
}

.medici-blog-btn-secondary {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 14px 28px;
	background: transparent;
	border: 2px solid var(--blog-border-color);
	border-radius: 10px;
	color: var(--blog-text-primary);
	transition: all 0.2s ease;
	text-decoration: none;
	font-weight: var(--font-semibold);
	font-size: 16px;
	cursor: pointer;
}

.medici-blog-btn-secondary:hover {
	color: var(--blog-accent-cyan);
	border-color: var(--blog-accent-cyan);
}

/* Featured Card */
.medici-blog-featured-card {
	padding: 32px;
	background: var(--blog-bg-card);
	border: 1px solid var(--blog-border-color);
	border-radius: 16px;
	transition: all 0.3s ease;
	box-shadow: var(--blog-shadow-lg);
}

.medici-blog-featured-card:hover {
	transform: translateY(-4px);
	box-shadow: 0 20px 40px rgb(0 0 0 / 40%);
}

.medici-blog-featured-badge {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	padding: 6px 12px;
	background: linear-gradient(135deg, var(--blog-accent-blue), var(--blog-accent-cyan));
	border-radius: 20px;
	color: white;
	font-size: 11px;
	font-weight: var(--font-bold);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin-bottom: 20px;
}

.medici-blog-featured-title {
	color: var(--blog-text-primary);
	font-size: 24px;
	font-weight: var(--font-bold);
	margin-bottom: 16px;
	line-height: 1.3;
}

.medici-blog-featured-excerpt {
	color: var(--blog-text-secondary);
	font-size: 14px;
	line-height: var(--leading-normal);
	margin-bottom: 20px;
}

.medici-blog-featured-meta {
	display: flex;
	gap: 20px;
	color: var(--blog-text-muted);
	padding-top: 20px;
	border-top: 1px solid var(--blog-border-color);
	font-size: 13px;
}

.medici-blog-featured-link {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	color: var(--blog-accent-cyan);
	transition: gap 0.2s ease;
	font-weight: var(--font-semibold);
	text-decoration: none;
	margin-top: 16px;
	font-size: 14px;
}

.medici-blog-featured-link:hover {
	gap: 12px;
}

/* =====================================================
   FILTER SECTION
   ===================================================== */

.medici-blog-filter-section {
	padding: 30px 0 20px; /* Зменшено ще більше для максимальної компактності */
}

.medici-blog-filter-box {
	padding: 24px;
	background: var(--blog-bg-card);
	border: 1px solid var(--blog-border-color);
	border-radius: 16px;
	box-shadow: var(--blog-shadow-sm);
}

/* НОВИЙ КОМПАКТНИЙ LAYOUT: Категорії + Sort в один рядок */
.medici-blog-filter-row-new {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: flex-start;
	gap: 24px;
}

/* Застарілі стилі (search box видалено з UI) */
.medici-blog-filter-row {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	gap: 20px;
	margin-bottom: 24px;
}

.medici-blog-search-box {
	position: relative;
	display: none; /* Search box видалено */
	flex: 1;
	max-width: 500px;
}

.medici-blog-search-input {
	width: 100%;
	padding: 12px 16px 12px 50px;
	border: 2px solid var(--blog-border-color);
	border-radius: 10px;
	color: var(--blog-text-primary);
	transition: all 0.2s ease;
	font-size: 14px;
}

.medici-blog-search-input::placeholder {
	color: var(--blog-text-muted);
	opacity: 1;
}

.medici-blog-search-input:focus {
	outline: none;
	border-color: var(--blog-accent-blue);
}

.medici-blog-search-icon {
	position: absolute;
	top: 50%;
	left: 16px;
	color: var(--blog-text-muted);
	transform: translateY(-50%);
	pointer-events: none;
}

.medici-blog-sort-select {
	height: 48px; /* Фіксована висота для вирівнювання з тегами */
	padding: 12px 16px;
	background: var(--blog-bg-secondary);
	border: 2px solid var(--blog-border-color);
	border-radius: 10px;
	color: var(--blog-text-primary);
	transition: border-color 0.2s ease;
	font-size: 14px;
	font-weight: var(--font-medium);
	cursor: pointer;
	flex-shrink: 0;
	min-width: 180px;
}

.medici-blog-sort-select:focus {
	outline: none;
	border-color: var(--blog-accent-blue);
}

.medici-blog-filter-tags {
	display: flex;
	flex: 1;
	flex-wrap: wrap;
	align-items: center;
	gap: 12px;
	min-height: 48px; /* Мінімальна висота для вирівнювання з sort select */
}

.medici-blog-filter-tag {
	padding: 10px 20px;
	background: var(--blog-bg-secondary);
	border: 2px solid var(--blog-border-color);
	border-radius: 24px;
	color: var(--blog-text-secondary);
	transition: all 0.2s ease;
	font-size: 14px;
	font-weight: var(--font-semibold);
	cursor: pointer;
}

.medici-blog-filter-tag:hover {
	color: var(--blog-accent-cyan);
	border-color: var(--blog-accent-cyan);
}

.medici-blog-filter-tag.active {
	background: var(--blog-accent-blue);
	color: white;
	border-color: var(--base3);
}

/* =====================================================
   BLOG GRID
   ===================================================== */

.medici-blog-posts-section {
	padding: 20px 0 40px; /* Зменшено ще більше для максимальної компактності */
}

.medici-blog-grid {
	display: grid;
	gap: 32px;
	grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
}

.medici-blog-article-card {
	display: flex;
	flex-direction: column;
	background: var(--blog-bg-card);
	border: 1px solid var(--blog-border-color);
	border-radius: 16px;
	transition: all 0.3s ease;
	box-shadow: var(--blog-shadow-sm);
	cursor: pointer;
	overflow: hidden;
}

.medici-blog-article-card:hover {
	transform: translateY(-8px);
	box-shadow: var(--blog-shadow-lg);
	border-color: var(--blog-accent-cyan);
}

.medici-blog-card-content {
	display: flex;
	flex-direction: column;
	padding: 28px;
	flex-grow: 1;
}

.medici-blog-card-category {
	display: inline-block;
	width: fit-content;
	padding: 6px 14px;
	border-radius: 20px;
	font-size: 11px;
	font-weight: var(--font-bold);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin-bottom: 16px;
}

/* Category Colors - Dynamic (set via admin) */

/* Colors are applied inline via term meta */

.medici-blog-card-title {
	color: var(--blog-text-primary);
	font-size: 20px;
	font-weight: var(--font-bold);
	line-height: 1.3;
	margin-bottom: 12px;
}

.medici-blog-card-title a {
	display: -webkit-box;
	color: inherit;
	text-decoration: none;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

.medici-blog-card-title a:hover {
	color: var(--blog-accent-cyan);
}

.medici-blog-card-excerpt {
	display: -webkit-box;
	color: var(--blog-text-secondary);
	font-size: 14px;
	line-height: var(--leading-normal);
	margin-bottom: 20px;
	-webkit-line-clamp: 3;
	-webkit-box-orient: vertical;
	overflow: hidden;
	flex-grow: 1;
}

.medici-blog-card-footer {
	display: flex;
	justify-content: space-between;
	align-items: center;
	color: var(--blog-text-muted);
	padding-top: 16px;
	border-top: 1px solid var(--blog-border-color);
	font-size: 13px;
}

/* No Posts Message */
.medici-blog-no-posts {
	padding: 60px 20px;
	color: var(--blog-text-secondary);
	text-align: center;
	font-size: 18px;
}

/* =====================================================
   LOAD MORE BUTTON
   ===================================================== */

.medici-blog-load-more-wrap {
	display: flex;
	justify-content: center;
	margin-top: 60px;
	padding-top: 40px;
	border-top: 1px solid var(--blog-border-color);
}

.medici-blog-load-more-btn {
	display: inline-flex;
	align-items: center;
	gap: 10px;
	padding: 16px 40px;
	background: var(--blog-accent-blue);
	border: none;
	border-radius: 10px;
	color: white;
	transition: all 0.3s ease;
	font-size: 16px;
	font-weight: var(--font-bold);
	cursor: pointer;
	box-shadow: 0 4px 15px rgb(59 130 246 / 30%);
}

.medici-blog-load-more-btn:hover:not(:disabled) {
	background: var(--blog-accent-cyan);
	transform: translateY(-2px);
	box-shadow: 0 6px 20px rgb(6 182 212 / 40%);
}

.medici-blog-load-more-btn:disabled {
	opacity: 0.6;
	cursor: not-allowed;
}

.medici-blog-load-more-btn .load-more-loader svg {
	width: 20px;
	height: 20px;
	animation: spin 1s linear infinite;
}

@keyframes spin {
	from {
		transform: rotate(0deg);
	}

	to {
		transform: rotate(360deg);
	}
}

/* =====================================================
   CTA SECTION
   ===================================================== */

.medici-blog-cta-section {
	position: relative;
	margin: 40px 0; /* Зменшено ще більше для максимальної компактності */
	padding: 40px 30px; /* Зменшено ще більше для максимальної компактності */
	background: linear-gradient(135deg, var(--blog-accent-blue) 0%, var(--blog-accent-cyan) 100%);
	border-radius: 24px;
	text-align: center;
	overflow: hidden;
}

.medici-blog-cta-section::before {
	content: "";
	position: absolute;
	top: -50%;
	left: -50%;
	width: 200%;
	height: 200%;
	background: radial-gradient(circle, rgb(255 255 255 / 10%) 0%, transparent 70%);
	animation: medici-blog-pulse 8s ease-in-out infinite;
}

@keyframes medici-blog-pulse {
	0%,
	100% {
		transform: scale(1);
		opacity: 1;
	}

	50% {
		transform: scale(1.1);
		opacity: 0.8;
	}
}

.medici-blog-cta-content {
	position: relative;
	z-index: 1;
}

.medici-blog-cta-section h2 {
	color: white;
	font-size: 40px;
	font-weight: var(--font-extrabold);
	margin-bottom: 16px;
	letter-spacing: -0.5px;
}

.medici-blog-cta-section p {
	color: rgb(255 255 255 / 90%);
	font-size: 18px;
	margin-bottom: 32px;
	max-width: 600px;
	margin-left: auto;
	margin-right: auto;
}

.medici-blog-btn-white {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 14px 32px;
	background: white;
	border-radius: 10px;
	color: var(--blog-accent-blue);
	transition: all 0.2s ease;
	font-size: 16px;
	font-weight: var(--font-bold);
	text-decoration: none;
	box-shadow: 0 4px 20px rgb(0 0 0 / 20%);
}

.medici-blog-btn-white:hover {
	transform: translateY(-4px);
	box-shadow: 0 8px 30px rgb(0 0 0 / 30%);
}

/* =====================================================
   PAGINATION
   ===================================================== */

.medici-blog-pagination {
	display: flex;
	justify-content: center;
	gap: 8px;
	margin: 60px 0;
}

.medici-blog-pagination .page-numbers {
	display: flex;
	justify-content: center;
	align-items: center;
	width: 44px;
	height: 44px;
	background: var(--blog-bg-card);
	border: 2px solid var(--blog-border-color);
	border-radius: 10px;
	color: var(--blog-text-secondary);
	transition: all 0.2s ease;
	text-decoration: none;
	font-weight: var(--font-semibold);
}

.medici-blog-pagination .page-numbers:hover {
	color: var(--blog-accent-cyan);
	border-color: var(--blog-accent-cyan);
}

.medici-blog-pagination .page-numbers.current {
	background: var(--blog-accent-blue);
	color: white;
	border-color: var(--blog-accent-blue);
}

.medici-blog-pagination .page-numbers.dots {
	background: transparent;
	border: none;
}

/* =====================================================
   RESPONSIVE
   ===================================================== */

@media (width <= 1024px) {
	.medici-blog-hero-grid {
		gap: 40px;
		grid-template-columns: 1fr;
	}

	.medici-blog-grid {
		grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
	}
}

@media (width <= 767px) {
	.medici-blog-hero {
		padding: 60px 0 40px;
	}

	.medici-blog-hero-title {
		font-size: 40px;
	}

	.medici-blog-hero-description {
		font-size: 16px;
	}

	/* Відключення flexbox для критичних елементів на мобільних */
	.medici-blog-filter-row-new,
	.medici-blog-filter-row {
		display: block;
		flex-direction: unset;
		align-items: unset;
	}

	.medici-blog-search-box {
		flex: none;
		max-width: none;
	}

	.medici-blog-filter-tags {
		display: block;
		flex: none;
		flex-wrap: nowrap;
		overflow-x: auto;
		padding-bottom: 8px;
	}

	.medici-blog-hero-buttons {
		display: block;
	}

	.medici-blog-hero-buttons > * {
		display: block;
		width: 100%;
		margin-bottom: 12px;
	}

	.medici-blog-featured-meta,
	.medici-blog-card-footer {
		display: block;
	}

	.medici-blog-featured-meta > *,
	.medici-blog-card-footer > * {
		display: block;
		margin-bottom: 8px;
	}

	.medici-blog-grid {
		grid-template-columns: 1fr;
	}

	.medici-blog-cta-section {
		margin: 60px 0;
		padding: 60px 24px;
	}

	.medici-blog-cta-section h2 {
		font-size: 32px;
	}

	.medici-blog-cta-section p {
		font-size: 16px;
	}
}

/* =====================================================
   UTILITY CLASSES
   ===================================================== */

.medici-blog-hidden {
	display: none !important;
}

.medici-blog-sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	margin: -1px;
	padding: 0;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* =====================================================
   SKELETON SCREENS (LOADING STATES)
   ===================================================== */

/* Skeleton Card Container */
.medici-blog-skeleton-card {
	display: flex;
	flex-direction: column;
	gap: 16px;
	padding: 28px;
	background: var(--blog-bg-card);
	border: 1px solid var(--blog-border-color);
	border-radius: 16px;
	box-shadow: var(--blog-shadow-sm);
	animation: skeleton-pulse 1.5s ease-in-out infinite;
}

/* Skeleton Elements */
.medici-blog-skeleton-header {
	width: 80px;
	height: 24px;
	background: linear-gradient(
		90deg,
		var(--blog-border-color) 0%,
		rgb(226 232 240 / 50%) 50%,
		var(--blog-border-color) 100%
	);
	border-radius: 20px;
	background-size: 200% 100%;
	animation: skeleton-shimmer 2s ease-in-out infinite;
}

[data-theme="dark"] .medici-blog-skeleton-header,
[data-theme="dark"] .medici-blog-skeleton-line {
	background: linear-gradient(
		90deg,
		rgb(255 255 255 / 5%) 0%,
		rgb(255 255 255 / 10%) 50%,
		rgb(255 255 255 / 5%) 100%
	);
	background-size: 200% 100%;
}

.medici-blog-skeleton-title {
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.medici-blog-skeleton-line {
	height: 16px;
	background: linear-gradient(
		90deg,
		var(--blog-border-color) 0%,
		rgb(226 232 240 / 50%) 50%,
		var(--blog-border-color) 100%
	);
	border-radius: 8px;
	background-size: 200% 100%;
	animation: skeleton-shimmer 2s ease-in-out infinite;
}

.medici-blog-skeleton-line:nth-child(1) {
	width: 100%;
}

.medici-blog-skeleton-line:nth-child(2) {
	width: 85%;
}

.medici-blog-skeleton-excerpt {
	display: flex;
	flex-direction: column;
	gap: 6px;
}

.medici-blog-skeleton-excerpt .medici-blog-skeleton-line {
	height: 14px;
}

.medici-blog-skeleton-excerpt .medici-blog-skeleton-line:nth-child(3) {
	width: 60%;
}

.medici-blog-skeleton-footer {
	display: flex;
	justify-content: space-between;
	padding-top: 16px;
	border-top: 1px solid var(--blog-border-color);
}

.medici-blog-skeleton-footer-item {
	width: 80px;
	height: 14px;
	background: linear-gradient(
		90deg,
		var(--blog-border-color) 0%,
		rgb(226 232 240 / 50%) 50%,
		var(--blog-border-color) 100%
	);
	border-radius: 8px;
	background-size: 200% 100%;
	animation: skeleton-shimmer 2s ease-in-out infinite;
}

/* Skeleton Animations */
@keyframes skeleton-shimmer {
	0% {
		background-position: 200% 0;
	}

	100% {
		background-position: -200% 0;
	}
}

@keyframes skeleton-pulse {
	0%,
	100% {
		opacity: 1;
	}

	50% {
		opacity: 0.7;
	}
}

/* =====================================================
   PROGRESS INDICATOR (TOP BAR)
   ===================================================== */

.medici-blog-progress-bar {
	position: fixed;
	top: 0;
	left: 0;
	z-index: 9999;
	width: 0;
	height: 3px;
	background: linear-gradient(90deg, var(--blog-accent-blue), var(--blog-accent-cyan));
	transition: width 0.3s ease;
	box-shadow: 0 2px 10px rgb(59 130 246 / 50%);
}

.medici-blog-progress-bar.loading {
	animation: progress-indeterminate 2s ease-in-out infinite;
}

@keyframes progress-indeterminate {
	0% {
		left: 0;
		width: 0%;
	}

	50% {
		left: 15%;
		width: 70%;
	}

	100% {
		left: 100%;
		width: 0%;
	}
}

/* =====================================================
   ENHANCED LOADING SPINNER
   ===================================================== */

.medici-blog-loading-overlay {
	position: fixed;
	top: 0;
	left: 0;
	z-index: 9998;
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
	height: 100%;
	background: rgb(0 0 0 / 50%);
	transition:
		opacity 0.3s ease,
		visibility 0.3s ease;
	opacity: 0;
	backdrop-filter: blur(4px);
	visibility: hidden;
}

.medici-blog-loading-overlay.active {
	opacity: 1;
	visibility: visible;
}

.medici-blog-spinner {
	width: 60px;
	height: 60px;
	border: 4px solid rgb(255 255 255 / 20%);
	border-radius: 50%;
	border-top-color: var(--blog-accent-cyan);
	animation: spinner-rotate 1s linear infinite;
}

@keyframes spinner-rotate {
	from {
		transform: rotate(0deg);
	}

	to {
		transform: rotate(360deg);
	}
}
