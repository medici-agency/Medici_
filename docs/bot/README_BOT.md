# ๐ค Telegram ะะพั ยซะะตะดัััยป - ะะพะบัะฐัะตะฝะฐ ะะตัััั

> ะะฝัะตะปะตะบััะฐะปัะฝะธะน Telegram ะฑะพั ะดะปั ะฐะณะตะฝััั ะผะตะดะธัะฝะพะณะพ ะผะฐัะบะตัะธะฝะณั ะท ะฒะฐั-ะตัะตะบัะฐะผะธ ัะฐ ัะฝัะตัะฐะบัะธะฒะฝะธะผะธ ััะฝะบัััะผะธ

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://python.org)
[![python-telegram-bot](https://img.shields.io/badge/python--telegram--bot-21.0+-green.svg)](https://python-telegram-bot.org)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ๐ ะะผััั

- [ะะณะปัะด](#-ะพะณะปัะด)
- [ะะะฃ-ะตัะตะบัะธ](#-ะฒะฐั-ะตัะตะบัะธ)
- [ะคัะฝะบััะพะฝะฐะป](#-ััะฝะบััะพะฝะฐะป)
- [ะััะฐะฝะพะฒะปะตะฝะฝั](#-ะฒััะฐะฝะพะฒะปะตะฝะฝั)
- [ะะฐะปะฐัััะฒะฐะฝะฝั](#-ะฝะฐะปะฐัััะฒะฐะฝะฝั)
- [ะะฐะฟััะบ](#-ะทะฐะฟััะบ)
- [ะกัััะบัััะฐ ะะ](#-ััััะบัััะฐ-ะฑะด)
- [ะะธะบะพัะธััะฐะฝะฝั](#-ะฒะธะบะพัะธััะฐะฝะฝั)
- [ะะพะทัะพะฑะบะฐ](#-ัะพะทัะพะฑะบะฐ)

## ๐ฏ ะะณะปัะด

Telegram ะฑะพั ะดะปั ะฐะณะตะฝััั ะผะตะดะธัะฝะพะณะพ ะผะฐัะบะตัะธะฝะณั ยซะะตะดัััยป ะท ัะพะทัะธัะตะฝะธะผะธ ะผะพะถะปะธะฒะพัััะผะธ:

- ๐ ะะพะฝััะปัััะฒะฐะฝะฝั ะท ะผะตะดะธัะฝะพะณะพ ะผะฐัะบะตัะธะฝะณั
- ๐ ะะตะทะบะพััะพะฒะฝั ะผะฐัะตััะฐะปะธ (ัะตะบะปะธััะธ, ะณะฐะนะดะธ, ะฟะพััะฑะฝะธะบะธ)
- ๐ ะะฝะฐะปัะท ัะตะบะปะฐะผะฝะธั ะผะฐัะตััะฐะปัะฒ ะท AI-ะฟะพะดัะฑะฝะธะผะธ ัะตะบะพะผะตะฝะดะฐัััะผะธ
- ๐งฎ ะะฝัะตัะฐะบัะธะฒะฝะธะน ะบะฐะปัะบัะปััะพั ะผะฐัะบะตัะธะฝะณะพะฒะธั ะผะตััะธะบ (CPL, ROAS)
- ๐ฎ ะะฒัะท ะดะปั ะฟะตัะตะฒััะบะธ ะทะฝะฐะฝั ะผะฐัะบะตัะธะฝะณั
- ๐ ะะตััะพะฝะฐะปัะฝะธะน Dashboard ะท ััะฐัะธััะธะบะพั ะบะพัะธัััะฒะฐัะฐ
- ๐ Inline ะบะฐะปะตะฝะดะฐั ะดะปั ะทะฐะฟะธัั ะฝะฐ ะบะพะฝััะปััะฐััั

## โจ ะะะฃ-ะตัะตะบัะธ

### 1. โก Typing ะัะตะบัะธ ัะฐ ะะฝัะผะฐััั

ะะพั "ะดััะบัั" ะฟะตัะตะด ะบะพะถะฝะพั ะฒัะดะฟะพะฒัะดะดั, ััะฒะพััััะธ ะตัะตะบั ะถะธะฒะพั ัะพะทะผะพะฒะธ:

```python
await send_typing_action(context, chat_id, duration=1.5)
```

### 2. ๐ ะัะพะณัะตั-ะฑะฐั ะะฝะฐะปัะทั

ะัะทัะฐะปัะฝะธะน ะฟัะพะณัะตั-ะฑะฐั ะฟัะธ ะฐะฝะฐะปัะทั ัะฐะนะปัะฒ (0% โ 100%):

```
๐ ะะฝะฐะปัะท ะผะฐัะตััะฐะปั...

[โโโโโโโโโโ] 60%

ะััะฝะบะฐ ะฒัะทัะฐะปัะฝะพั ะฟัะธะฒะฐะฑะปะธะฒะพััั...
```

### 3. ๐ ะัะทัะฐะปัะทะฐััั ะะตััะธะบ

ะะฐะปัะบัะปััะพั CPL/ROAS ะท ะฒัะทัะฐะปัะฝะธะผะธ ะณัะฐััะบะฐะผะธ:

```
๐ต ROAS: 450%
[โโโโโโโโโโโโโโโโโโโ]

๐ ะัะธะฑััะพะบ: 25,000 ะณัะฝ
```

### 4. ๐ ะกะธััะตะผะฐ ะะตะนะดะถัะฒ

ะะฒัะพะผะฐัะธัะฝั ะดะพััะณะฝะตะฝะฝั ะทะฐ ะฐะบัะธะฒะฝัััั:

- ๐ **ะะตััะธะน ัะฐะนะป** - ะทะฐะฒะฐะฝัะฐะถะธะฒ ะฟะตััะธะน ัะฐะนะป
- ๐ฅ **ะะบัะธะฒะฝะธะน ะบะพัะธัััะฒะฐั** - 5+ ัะฐะนะปัะฒ
- ๐ **ะะฝะธะณะพะปัะฑ** - 3+ ะผะฐัะตััะฐะปะธ
- ๐ฏ **ะฆัะปะตัะฟััะผะพะฒะฐะฝะธะน** - ะทะฐะผะพะฒะธะฒ ะบะพะฝััะปััะฐััั
- ๐ง **ะััะดะธั** - ะฟัะพะนัะพะฒ ะบะฒัะท
- ๐ **ะะบัะฟะตัั** - 3+ ะบะฒัะทะธ

### 5. ๐ Inline ะะฐะปะตะฝะดะฐั

ะะฝัะตัะฐะบัะธะฒะฝะธะน ะบะฐะปะตะฝะดะฐั ะดะปั ะฒะธะฑะพัั ะดะฐัะธ ะบะพะฝััะปััะฐััั:

```
๐ ะััะดะตะฝั 2025

ะะฝ ะั ะกั ะงั ะั ะกะฑ ะะด
            1  2  3
 4  5  6  7  8  9 10
11 12 13 14 15 16 17
...

โ๏ธ  โ ะกะบะฐััะฒะฐัะธ  โถ๏ธ
```

### 6. ๐ฎ ะะฝัะตัะฐะบัะธะฒะฝะธะน ะะฒัะท

10 ะฟะธัะฐะฝั ะท ะผะธัััะฒะพั ะฟะตัะตะฒััะบะพั ัะฐ ะฟะพััะฝะตะฝะฝัะผะธ:

```
๐ฎ ะะธัะฐะฝะฝั 3/10

ะฏะบะต ะฟัะฐะฒะธะปะพ ัะตะบััั ะฝะฐ ะทะพะฑัะฐะถะตะฝะฝัั ัะตะบะพะผะตะฝะดัั Facebook?

โซ๏ธ ะะฐะบัะธะผัะผ 10%
โซ๏ธ ะะฐะบัะธะผัะผ 20%  โ (ะพะฑัะฐะฝะพ)
โซ๏ธ ะะฐะบัะธะผัะผ 50%
โซ๏ธ ะะตะผะฐั ะพะฑะผะตะถะตะฝั

โ ะัะฐะฒะธะปัะฝะพ!

๐ก Facebook ัะตะบะพะผะตะฝะดัั, ัะพะฑ ัะตะบัั ะทะฐะนะผะฐะฒ ะฝะต ะฑัะปััะต 20%...

๐ ะขะฒัะน ัะฐััะฝะพะบ: 3/3
```

## ๐ ะคัะฝะบััะพะฝะฐะป

### ะะพะปะพะฒะฝั ะะพะดัะปั

#### 1. ๐ ะะฐัะตััะฐะปะธ

ะะตะทะบะพััะพะฒะฝั PDF ะดะพะบัะผะตะฝัะธ:

- ะงะตะบะปะธัั ะฐัะดะธัั Google Ads
- ะงะตะบะปะธัั ัะฐัะณะตัั ะดะปั ะปัะบะฐัั (Facebook/Instagram)
- ะะพััะฑะฝะธะบ CPL ัะฐ ROAS
- 10 ะฟะพะผะธะปะพะบ ั ะผะตะดะธัะฝัะน ัะตะบะปะฐะผั
- ะะฐะนะด ะฟะพ ะฟะพัะฐะดะบะพะฒะธะผ ััะพััะฝะบะฐะผ

#### 2. ๐ ะะฝะฐะปัะท ะคะฐะนะปัะฒ

ะขะธะฟะธ ะฐะฝะฐะปัะทั:

- ๐จ **ะะฐะฝะตั / ะบัะตะฐัะธะฒ** - ะฐะฝะฐะปัะท ะบะพะผะฟะพะทะธััั, ัะตะบััั, CTA
- ๐ **ะขะตะบัั ะพะณะพะปะพัะตะฝะฝั** - ะฟะตัะตะฒััะบะฐ ััััะบัััะธ, ะตะผะพััะนะฝะพััั
- ๐ **ะะพัะฐะดะบะพะฒะฐ ััะพััะฝะบะฐ** - ัะฒะธะดะบัััั, ัะพัะผะฐ, ัะพััะฐะปัะฝั ะดะพะบะฐะทะธ
- ๐ **ะกัะฐัะธััะธะบะฐ ะบะฐะผะฟะฐะฝัั** - CPL, CTR, CR, ัะตะบะพะผะตะฝะดะฐััั ะท ะพะฟัะธะผัะทะฐััั

ะะพะถะตะฝ ะฐะฝะฐะปัะท ะฒะบะปััะฐั:

- โ ะฉะพ ะดะพะฑัะต (3 ะฟัะฝะบัะธ)
- โ๏ธ ะฉะพ ะฟะพะบัะฐัะธัะธ (3 ัะตะบะพะผะตะฝะดะฐััั)
- ๐ก ะะพะดะฐัะบะพะฒั ะฟะพัะฐะดะธ (3 ะตะบัะฟะตััะฝั ะฟะพัะฐะดะธ)
- ๐ ะััะฝะบะฐ ะท 10 ะฑะฐะปัะฒ (ะฒัะทัะฐะปัะฝั ะทััะบะธ)

#### 3. ๐งฎ ะะฐะปัะบัะปััะพั ะะตััะธะบ

**CPL (Cost Per Lead):**

- ะะพะทัะฐััะฝะพะบ ะฒะฐััะพััั ะปัะดะฐ
- ะะพััะฒะฝัะฝะฝั ะท ัะตัะตะดะฝัะผะธ ะฟะพะบะฐะทะฝะธะบะฐะผะธ (200-800 ะณัะฝ)
- ะัะพะณะฝะพะท ะบะพะฝะฒะตัััั ะปัะดัะฒ ะฒ ะฟะฐัััะฝััะฒ (30%)
- ะะพะทัะฐััะฝะพะบ ะฟะพัะตะฝััะนะฝะพะณะพ ะดะพัะพะดั ัะฐ ROI

**ROAS (Return on Ad Spend):**

- ะะพะทัะฐััะฝะพะบ ะฟะพะฒะตัะฝะตะฝะฝั ัะฝะฒะตััะธััะน
- ะัะทัะฐะปัะทะฐััั ะฟัะพะณัะตั-ะฑะฐัะพะผ
- ะััะฝะบะฐ ะตัะตะบัะธะฒะฝะพััั (๐ข ะฒัะดะผัะฝะฝะพ / ๐ก ะดะพะฑัะต / ๐ด ะฟะพััะตะฑัั ะพะฟัะธะผัะทะฐััั)
- ะะพััะฒะฝัะฝะฝั ะท ัะตัะตะดะฝัะผะธ ะฟะพะบะฐะทะฝะธะบะฐะผะธ (300-800%)

#### 4. ๐ฎ ะะฒัะท

10 ะฟะธัะฐะฝั ะท ะผะตะดะธัะฝะพะณะพ ะผะฐัะบะตัะธะฝะณั:

- ะกะตัะตะดะฝัะน CPL ะดะปั ะผะตะดะธัะธะฝะธ
- ะะพะฝะฒะตัััั ะปะตะฝะดัะฝะณั
- ะัะฐะฒะธะปะฐ Facebook ัะตะบะปะฐะผะธ
- ROAS ะดะปั ะบะปัะฝัะบ
- SEO ัะตัะผัะฝะธ
- ะะฟัะธะผัะทะฐััั ัะพัะผ
- ะะพะฝะฒะตัััั ะปัะดัะฒ
- ะจะฒะธะดะบัััั ัะฐะนัั
- A/B ัะตัััะฒะฐะฝะฝั
- ะงะฐััะพัะฐ ะฟัะฑะปัะบะฐััะน

ะัะฒะฝั ะตะบัะฟะตััะฝะพััั:

- ๐ **90%+** - ะะบัะฟะตัั
- ๐ฅ **70-89%** - ะัะพััะฝััะธะน
- ๐ฅ **50-69%** - ะกะตัะตะดะฝัะน
- ๐ฑ **<50%** - ะะพัะฐัะบัะฒะตัั

#### 5. ๐ ะะพะฝััะปััะฐััั

ะะพะฒะฝะธะน ะฟัะพัะตั ะทะฐะฟะธัั:

1. ะะฑัั ัะผะตะฝั ัะฐ ัะพะปั (ะปัะบะฐั/ะบะปัะฝัะบะฐ/ะบะตััะฒะฝะธะบ/ะผะฐัะบะตัะพะปะพะณ)
2. ะะพะฝัะฐะบัะฝะฐ ัะฝัะพัะผะฐััั (Telegram/ัะตะปะตัะพะฝ/email)
3. ะะธะฑัั ะดะฐัะธ ัะตัะตะท inline ะบะฐะปะตะฝะดะฐั
4. ะะธะฑัั ัะฐัะพะฒะพะณะพ ัะปะพัั (09:00-17:00)
5. ะะฒัะพะผะฐัะธัะฝะต ะฟะพะฒัะดะพะผะปะตะฝะฝั ะผะตะฝะตะดะถะตัั
6. ะะฐะณะฐะดัะฒะฐะฝะฝั ะทะฐ 24 ะณะพะดะธะฝะธ

#### 6. ๐ ะะตััะพะฝะฐะปัะฝะฐ ะกัะฐัะธััะธะบะฐ

Dashboard ะบะพะถะฝะพะณะพ ะบะพัะธัััะฒะฐัะฐ:

- ๐ค ะะผ'ั ัะฐ ัะธะฟ ะฑัะทะฝะตัั
- ๐ ะคะฐะนะปัะฒ ะทะฐะฒะฐะฝัะฐะถะตะฝะพ
- ๐ ะะฐัะตััะฐะปัะฒ ะพััะธะผะฐะฝะพ
- ๐ ะะพะฝััะปััะฐััะน ะทะฐะฟะธัะฐะฝะพ
- ๐ฎ ะะฒัะทัะฒ ะฟัะพะนะดะตะฝะพ
- ๐ ะััะธะผะฐะฝั ะฑะตะนะดะถั
- ๐ ะะฐัะฐ ัะตััััะฐััั ัะฐ ะพััะฐะฝะฝัะน ะฒัะทะธั

## ๐ฆ ะััะฐะฝะพะฒะปะตะฝะฝั

### ะะธะผะพะณะธ

- Python 3.9 ะฐะฑะพ ะฝะพะฒััะต
- pip (Python package manager)
- Telegram Bot Token (ะพััะธะผะฐะน ั [@BotFather](https://t.me/BotFather))

### ะัะพะบ 1: ะะปะพะฝัะฒะฐะฝะฝั ัะตะฟะพะทะธัะพััั

```bash
git clone https://github.com/ua5220/medici.git
cd medici
```

### ะัะพะบ 2: ะกัะฒะพัะตะฝะฝั ะฒััััะฐะปัะฝะพะณะพ ัะตัะตะดะพะฒะธัะฐ (ัะตะบะพะผะตะฝะดะพะฒะฐะฝะพ)

```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# ะฐะฑะพ
venv\Scripts\activate  # Windows
```

### ะัะพะบ 3: ะััะฐะฝะพะฒะปะตะฝะฝั ะทะฐะปะตะถะฝะพััะตะน

```bash
pip install -r requirements.txt
```

### ะัะพะบ 4: ะกัะฒะพัะตะฝะฝั ะดะธัะตะบัะพััั ะดะปั ัะฐะนะปัะฒ

```bash
mkdir files
```

ะะพะดะฐะน ัะฒะพั PDF ะผะฐัะตััะฐะปะธ ะฒ `files/`:

- `checklist_google_ads.pdf`
- `checklist_doctor_facebook.pdf`
- `guide_cpl_roas.pdf`
- `guide_10_mistakes.pdf`
- `guide_landing_page.pdf`

## โ๏ธ ะะฐะปะฐัััะฒะฐะฝะฝั

### ะะผัะฝะฝั ะกะตัะตะดะพะฒะธัะฐ

ะกัะฒะพัะธ `.env` ัะฐะนะป (ะฐะฑะพ ะฒััะฐะฝะพะฒะธ ัะตัะตะท export):

```bash
# ะะฑะพะฒ'ัะทะบะพะฒั
export TELEGRAM_BOT_TOKEN="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"

# ะะฟััะพะฝะฐะปัะฝั
export MANAGER_CHAT_ID="123456789"  # ID ัะฐัั ะผะตะฝะตะดะถะตัะฐ ะดะปั ะฟะพะฒัะดะพะผะปะตะฝั
```

### ะััะธะผะฐะฝะฝั Bot Token

1. ะัะดะบัะธะน [@BotFather](https://t.me/BotFather) ะฒ Telegram
2. ะะฐะดััะปะธ `/newbot`
3. ะะฒะตะดะธ ัะผ'ั ะฑะพัะฐ: `Medici Marketing Bot`
4. ะะฒะตะดะธ username: `medici_marketing_bot`
5. ะกะบะพะฟััะน ัะพะบะตะฝ

### ะััะธะผะฐะฝะฝั Manager Chat ID

1. ะะฐะดััะปะธ ะฟะพะฒัะดะพะผะปะตะฝะฝั ัะฒะพัะผั ะฑะพัั
2. ะัะดะบัะธะน: `https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates`
3. ะะฝะฐะนะดะธ `"chat":{"id": 123456789}`
4. ะะธะบะพัะธััะฐะน ัะตะน ID

## ๐ ะะฐะฟััะบ

### ะะพะบะฐะปัะฝะธะน ะทะฐะฟััะบ

```bash
python3 medici_bot_enhanced.py
```

### ะะฐะฟััะบ ั ัะพะฝั (Linux/Mac)

```bash
nohup python3 medici_bot_enhanced.py > bot.log 2>&1 &
```

### ะะฐะฟััะบ ัะตัะตะท systemd (production)

ะกัะฒะพัะธ `/etc/systemd/system/medici-bot.service`:

```ini
[Unit]
Description=Medici Telegram Bot
After=network.target

[Service]
Type=simple
User=your_user
WorkingDirectory=/path/to/medici
Environment="TELEGRAM_BOT_TOKEN=your_token"
Environment="MANAGER_CHAT_ID=your_id"
ExecStart=/path/to/venv/bin/python medici_bot_enhanced.py
Restart=always

[Install]
WantedBy=multi-user.target
```

ะะบัะธะฒะฐััั:

```bash
sudo systemctl daemon-reload
sudo systemctl enable medici-bot
sudo systemctl start medici-bot
sudo systemctl status medici-bot
```

## ๐๏ธ ะกัััะบัััะฐ ะะ

### ะขะฐะฑะปะธัั SQLite

**events** - ะะพะณัะฒะฐะฝะฝั ะฒััั ะดัะน:

```sql
CREATE TABLE events (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    action TEXT,
    payload TEXT,
    ts TEXT
);
```

**user_profiles** - ะัะพััะปั ะบะพัะธัััะฒะฐััะฒ:

```sql
CREATE TABLE user_profiles (
    user_id INTEGER PRIMARY KEY,
    name TEXT,
    business_type TEXT,
    files_uploaded INTEGER DEFAULT 0,
    materials_downloaded INTEGER DEFAULT 0,
    consultations_requested INTEGER DEFAULT 0,
    quizzes_completed INTEGER DEFAULT 0,
    last_visit TEXT,
    created_at TEXT
);
```

**consultations** - ะะฐัะฒะบะธ ะฝะฐ ะบะพะฝััะปััะฐััั:

```sql
CREATE TABLE consultations (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    name TEXT,
    role TEXT,
    contact TEXT,
    consultation_date TEXT,
    consultation_time TEXT,
    ts TEXT
);
```

**quiz_results** - ะะตะทัะปััะฐัะธ ะบะฒัะทัะฒ:

```sql
CREATE TABLE quiz_results (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    score INTEGER,
    max_score INTEGER,
    ts TEXT
);
```

## ๐ ะะธะบะพัะธััะฐะฝะฝั

### ะะพะผะฐะฝะดะธ ะะพัะฐ

- `/start` - ะะพะปะพะฒะฝะต ะผะตะฝั
- `/menu` - ะะตะทะบะพััะพะฒะฝั ะผะฐัะตััะฐะปะธ
- `/stats` - ะขะฒะพั ััะฐัะธััะธะบะฐ
- `/calculator` - ะะฐะปัะบัะปััะพั CPL/ROAS
- `/quiz` - ะขะตัั ะฝะฐ ะทะฝะฐะฝะฝั ะผะฐัะบะตัะธะฝะณั
- `/help` - ะะพะฒัะดะบะฐ
- `/cancel` - ะกะบะฐััะฒะฐัะธ ะฟะพัะพัะฝั ะดัั

### ะัะธะบะปะฐะดะธ ะัะฐะปะพะณัะฒ

**ะะพะทัะฐััะฝะพะบ CPL:**

```
ะะพัะธัััะฒะฐั: /calculator
ะะพั: ะะฑะตัะธ ะผะตััะธะบั โ CPL
ะะพัะธัััะฒะฐั: 5000
ะะพั: ะกะบัะปัะบะธ ะปัะดัะฒ?
ะะพัะธัััะฒะฐั: 10
ะะพั:
๐ CPL: 500 ะณัะฝ ๐ก
๐ก CPL ะฒ ะผะตะถะฐั ะฝะพัะผะธ. ะ ะฟัะพัััั ะดะปั ะพะฟัะธะผัะทะฐััั.

๐ฏ ะัะพะณะฝะพะท:
โข ะะฐัััะฝััะฒ: ~3 (ะบะพะฝะฒะตัััั 30%)
โข ะะพัะตะฝััะนะฝะธะน ะดะพััะด: ~4,500 ะณัะฝ
โข ROI: ~-10%
```

**ะัะพัะพะดะถะตะฝะฝั ะะฒัะทั:**

```
ะะพัะธัััะฒะฐั: /quiz
ะะพั: ๐ฎ ะะธัะฐะฝะฝั 1/10
     ะฏะบะธะน ัะตัะตะดะฝัะน CPL ะดะปั ะผะตะดะธัะฝะธั ะฟะพัะปัะณ ะฒ ะฃะบัะฐัะฝั?
     [50-150 ะณัะฝ] [200-800 ะณัะฝ] [1000-2000 ะณัะฝ] [2500+ ะณัะฝ]
ะะพัะธัััะฒะฐั: (ะฝะฐัะธัะบะฐั 200-800 ะณัะฝ)
ะะพั: โ ะัะฐะฒะธะปัะฝะพ!
     ๐ก ะกะตัะตะดะฝัะน CPL ะดะปั ะผะตะดะธัะธะฝะธ ะฒ ะฃะบัะฐัะฝั: 200-800 ะณัะฝ...
     ๐ ะขะฒัะน ัะฐััะฝะพะบ: 1/1
```

## ๐๏ธ ะะพะทัะพะฑะบะฐ

### ะะพะดะฐะฒะฐะฝะฝั ะะพะฒะธั ะะธัะฐะฝั ะดะพ ะะฒัะทั

ะะตะดะฐะณัะน `QUIZ_QUESTIONS` ะฒ `medici_bot_enhanced.py`:

```python
{
    "question": "ะขะฒะพั ะฟะธัะฐะฝะฝั?",
    "options": ["ะะฐััะฐะฝั 1", "ะะฐััะฐะฝั 2", "ะะฐััะฐะฝั 3", "ะะฐััะฐะฝั 4"],
    "correct": 1,  # ะะฝะดะตะบั ะฟัะฐะฒะธะปัะฝะพั ะฒัะดะฟะพะฒัะดั (0-3)
    "explanation": "ะะพััะฝะตะฝะฝั ะฟัะฐะฒะธะปัะฝะพั ะฒัะดะฟะพะฒัะดั"
}
```

### ะะพะดะฐะฒะฐะฝะฝั ะะพะฒะธั ะะฐัะตััะฐะปัะฒ

1. ะะพะดะฐะน PDF ัะฐะนะป ะฒ `files/your_material.pdf`
2. ะะฝะพะฒะธัะต `materials_keyboard()` ั `materials_callback()`:

```python
def materials_keyboard():
    keyboard = [
        # ...
        [InlineKeyboardButton("๐ ะขะฒัะน ะผะฐัะตััะฐะป", callback_data="mat_new")],
    ]

async def materials_callback(update, context):
    mapping = {
        # ...
        "mat_new": ("files/your_material.pdf", "ะขะฒัะน ะผะฐัะตััะฐะป"),
    }
```

### ะะพะดะฐะฒะฐะฝะฝั ะะพะฒะธั ะะตะนะดะถัะฒ

ะะตะดะฐะณัะน `calculate_badges()`:

```python
def calculate_badges(stats):
    badges = []

    if stats.get("your_metric", 0) >= 10:
        badges.append("๐๏ธ ะขะฒัะน ะฑะตะนะดะถ")

    return badges
```

### ะกัััะบัััะฐ ะะพะดั

```
medici_bot_enhanced.py
โโโ Database Functions
โ   โโโ init_db()
โ   โโโ log_event()
โ   โโโ update_user_profile()
โ   โโโ get_user_stats()
โ   โโโ save_consultation()
โ
โโโ Helper Functions
โ   โโโ send_typing_action()
โ   โโโ send_animated_message()
โ   โโโ simulate_progress()
โ   โโโ calculate_badges()
โ
โโโ Keyboards
โ   โโโ main_menu_keyboard()
โ   โโโ materials_keyboard()
โ   โโโ calculator_keyboard()
โ   โโโ calendar_keyboard()
โ
โโโ Handlers
โ   โโโ start()
โ   โโโ main_menu_callback()
โ   โโโ dialog_callback()
โ   โโโ materials_callback()
โ   โโโ upload_wait_file()
โ   โโโ calculator_callback()
โ   โโโ quiz_start()
โ   โโโ consult_name()
โ
โโโ Main
    โโโ main()
```

## ๐ ะะฝะฐะปััะธะบะฐ

### ะะฑัั ะะตััะธะบ

ะัั ะดัั ะบะพัะธัััะฒะฐััะฒ ะปะพะณัััััั ะฒ ัะฐะฑะปะธัั `events`:

```python
log_event(user_id, "action_name", "optional_payload")
```

### ะัะธะบะปะฐะดะธ ะะฐะฟะธััะฒ

**ะะฐะนะฐะบัะธะฒะฝััั ะบะพัะธัััะฒะฐัั:**

```sql
SELECT user_id, COUNT(*) as actions
FROM events
GROUP BY user_id
ORDER BY actions DESC
LIMIT 10;
```

**ะะพะฟัะปััะฝั ะผะฐัะตััะฐะปะธ:**

```sql
SELECT payload, COUNT(*) as downloads
FROM events
WHERE action = 'material_click'
GROUP BY payload
ORDER BY downloads DESC;
```

**ะะพะฝะฒะตัััั ะฒ ะบะพะฝััะปััะฐััั:**

```sql
SELECT
    (SELECT COUNT(DISTINCT user_id) FROM consultations) * 100.0 /
    (SELECT COUNT(DISTINCT user_id) FROM events WHERE action = 'start') as conversion_rate;
```

## ๐ Troubleshooting

### ะะพั ะฝะต ะฒัะดะฟะพะฒัะดะฐั

1. ะะตัะตะฒัั ัะพะบะตะฝ: `echo $TELEGRAM_BOT_TOKEN`
2. ะะตัะตะฒัั ะปะพะณะธ: `tail -f bot.log`
3. ะะตัะตะฒัั ะท'ัะดะฝะฐะฝะฝั: `ping api.telegram.org`

### ะะฐะทะฐ ะดะฐะฝะธั ะทะฐะฑะปะพะบะพะฒะฐะฝะฐ

```bash
# ะะฐะบัะธะน ะฒัั ะฟัะพัะตัะธ ะฑะพัะฐ
pkill -f medici_bot_enhanced

# ะะธะดะฐะปะธ lock ัะฐะนะป
rm medici_bot.db-journal

# ะะฐะฟัััะธ ะทะฝะพะฒั
python3 medici_bot_enhanced.py
```

### PDF ัะฐะนะปะธ ะฝะต ะฒัะดะฟัะฐะฒะปัััััั

1. ะะตัะตะฒัั ัะปััะธ ะดะพ ัะฐะนะปัะฒ
2. ะะตัะตะฒัั ะฟัะฐะฒะฐ ะดะพัััะฟั: `ls -la files/`
3. ะะตัะตะฒัั ัะพะทะผัั ัะฐะนะปัะฒ (ะผะฐะบั 50MB ะดะปั Telegram)

## ๐ License

MIT License - ะดะธะฒะธัั [LICENSE](LICENSE) ะดะปั ะดะตัะฐะปะตะน

## ๐จโ๐ป ะะฒัะพั

**ะะพะผะฐะฝะดะฐ ะะตะดััั**

- ๐ ะกะฐะนั: [medici.agency](https://medici.agency)
- ๐ง Email: info@medici.agency
- ๐ฑ Telegram: [@medici_agency](https://t.me/medici_agency)

## ๐ ะะพะดัะบะธ

- [python-telegram-bot](https://python-telegram-bot.org) - ััะดะพะฒะฐ ะฑัะฑะปัะพัะตะบะฐ ะดะปั Telegram ะฑะพััะฒ
- [SQLite](https://sqlite.org) - ะฝะฐะดัะนะฝะฐ embedded ะฑะฐะทะฐ ะดะฐะฝะธั

---

**ะกัะฒะพัะตะฝะพ ะท โค๏ธ ะฐะณะตะฝัััั ะผะตะดะธัะฝะพะณะพ ะผะฐัะบะตัะธะฝะณั ยซะะตะดัััยป**
